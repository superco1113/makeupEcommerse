{"version":3,"sources":["webpack:///./src/views/CustomerForm.vue?224d","webpack:///src/views/CustomerForm.vue","webpack:///./src/views/CustomerForm.vue?8796","webpack:///./src/views/CustomerForm.vue","webpack:///./src/views/CustomerForm.vue?40d7"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","scopedSlots","_u","key","fn","ref","handleSubmit","staticClass","preventDefault","onSubmit","_v","errors","directives","name","rawName","value","form","user","expression","domProps","target","composing","$set","_s","staticStyle","_l","productsInCart","item","index","product","title","qty","total","final_total","_e","couponCode","useCoupon","staticRenderFns","data","message","created","console","log","getProductCart","methods","api","vm","$http","get","then","response","success","Object","assign","$router","push","post","$bus","$emit","component"],"mappings":"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","file":"js/chunk-0a45506f.9c4c490b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('div',{staticClass:\"row\"},[_c('form',{staticClass:\"col-md-6\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[_c('h3',{staticClass:\"h3text\"},[_vm._v(\"帳單資訊\")]),_c('hr',{staticClass:\"style-six\"}),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{staticClass:\"formTxt\",attrs:{\"for\":\"name\"}},[_vm._v(\"姓名\")]),_c('ValidationProvider',{attrs:{\"name\":\"name\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger formTxt\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{staticClass:\"formTxt\",attrs:{\"for\":\"phone\"}},[_vm._v(\"聯絡電話\")]),_c('ValidationProvider',{attrs:{\"name\":\"phone\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"type\":\"tel\",\"id\":\"phone\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger formTxt\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{staticClass:\"formTxt\",attrs:{\"for\":\"email\"}},[_vm._v(\"電子郵件\")]),_c('ValidationProvider',{attrs:{\"name\":\"email\",\"rules\":\"email|required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"請輸入郵件\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger formTxt\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{staticClass:\"formTxt\",attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('ValidationProvider',{attrs:{\"name\":\"address\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger formTxt\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"formTxt\",attrs:{\"for\":\"comment\"}},[_vm._v(\"訂單備註\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-outline-primary submit w-100 mb-3\",staticStyle:{\"font-size\":\"10px\"},attrs:{\"type\":\"submit\"}},[_vm._v(\"下單購買\")])]),_c('div',{staticClass:\"col-md-6\"},[_c('h3',{staticClass:\"h3text\"},[_vm._v(\"您的訂單\")]),_c('hr',{staticClass:\"style-six\"}),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-borderless\"},[_c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',{staticClass:\"orderlistTxt pl-2\",attrs:{\"scope\":\"col\"}},[_vm._v(\"商品\")]),_c('th',{staticClass:\"orderlistTxt pl-2 text-right\",attrs:{\"scope\":\"col\"}},[_vm._v(\"小計\")])])]),_c('tbody',_vm._l((_vm.productsInCart.carts),function(item,index){return _c('tr',{key:index},[_c('td',{staticClass:\"orderlistTxt\"},[_vm._v(_vm._s(item.product.title)+\" * \"+_vm._s(item.qty))]),_c('td',{staticClass:\"text-right ntDollar\"},[_vm._v(\"NT$\"+_vm._s(item.total))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"orderlistTxt\",staticStyle:{\"background-color\":\"#e9ecef\"}},[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right ntDollar\"},[_vm._v(\"NT$\"+_vm._s(_vm.productsInCart.total))])]),_c('tr',[_c('td',{staticClass:\"orderlistTxt\",staticStyle:{\"background-color\":\"#e9ecef\"}},[_vm._v(\"運送方式\")]),_c('td',{staticClass:\"orderlistTxt text-right\"},[_vm._v(\"宅配\")])]),_c('tr',[_c('td',{staticClass:\"orderlistTxt\",staticStyle:{\"background-color\":\"#e9ecef\"}},[_vm._v(\" 總計 \"),(_vm.productsInCart.total != _vm.productsInCart.final_total)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"已套用優惠券\")]):_vm._e()]),_c('td',{staticClass:\"text-right ntDollar\"},[_vm._v(\"NT$\"+_vm._s(_vm.productsInCart.final_total))])]),_c('tr',[_c('td',{staticClass:\"text-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.couponCode),expression:\"couponCode\"}],attrs:{\"type\":\"text\",\"name\":\"code\",\"id\":\"coupon\",\"placeholder\":\"折價券\"},domProps:{\"value\":(_vm.couponCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.couponCode=$event.target.value}}})]),_c('td',[_c('button',{staticClass:\"btn btn-outline-primary w-100 gopaid\",staticStyle:{\"font-size\":\"5px\"},on:{\"click\":_vm.useCoupon}},[_vm._v(\" 使用折價券 \")])])])])])])])])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\n      <div class=\"row\">\n        <form class=\"col-md-6\" @submit.prevent=\"handleSubmit(onSubmit)\">\n          <h3 class=\"h3text\">帳單資訊</h3>\n          <hr class=\"style-six\" />\n          <div class=\"form-row\">\n            <div class=\"form-group col-md-6\">\n              <label class=\"formTxt\" for=\"name\">姓名</label>\n              <ValidationProvider name=\"name\" rules=\"required\" v-slot=\"{ errors }\">\n                <input\n                  v-model=\"form.user.name\"\n                  type=\"text\"\n                  id=\"name\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入姓名\"\n                />\n                <span class=\"text-danger formTxt\">{{ errors[0] }}</span>\n              </ValidationProvider>\n            </div>\n            <div class=\"form-group col-md-6\">\n              <label class=\"formTxt\" for=\"phone\">聯絡電話</label>\n              <ValidationProvider name=\"phone\" rules=\"required\" v-slot=\"{ errors }\">\n                <input v-model=\"form.user.tel\" type=\"tel\" id=\"phone\" class=\"form-control\" placeholder=\"請輸入電話\" />\n                <span class=\"text-danger formTxt\">{{ errors[0] }}</span>\n              </ValidationProvider>\n            </div>\n          </div>\n          <div class=\"form-row\">\n            <div class=\"form-group col-md-6\">\n              <label class=\"formTxt\" for=\"email\">電子郵件</label>\n              <ValidationProvider name=\"email\" rules=\"email|required\" v-slot=\"{ errors }\">\n                <input\n                  v-model=\"form.user.email\"\n                  type=\"email\"\n                  id=\"email\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入郵件\"\n                />\n                <span class=\"text-danger formTxt\">{{ errors[0] }}</span>\n              </ValidationProvider>\n            </div>\n            <div class=\"form-group col-md-6\">\n              <label class=\"formTxt\" for=\"useraddress\">收件人地址</label>\n              <ValidationProvider name=\"address\" rules=\"required\" v-slot=\"{ errors }\">\n                <input\n                  v-model=\"form.user.address\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"useraddress\"\n                  placeholder=\"請輸入地址\"\n                />\n                <span class=\"text-danger formTxt\">{{ errors[0] }}</span>\n              </ValidationProvider>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <label class=\"formTxt\" for=\"comment\">訂單備註</label>\n            <textarea v-model=\"form.message\" id=\"comment\" class=\"form-control\" cols=\"30\" rows=\"10\"></textarea>\n          </div>\n          <button\n            class=\"btn btn-outline-primary submit w-100 mb-3\"\n            type=\"submit\"\n            style=\"font-size:10px\"\n          >下單購買</button>\n        </form>\n        <div class=\"col-md-6\">\n          <h3 class=\"h3text\">您的訂單</h3>\n          <hr class=\"style-six\" />\n          <div class=\"table-responsive\">\n            <table class=\"table table-borderless\">\n              <thead class=\"thead-light\">\n                <tr>\n                  <th scope=\"col\" class=\"orderlistTxt pl-2\">商品</th>\n                  <th scope=\"col\" class=\"orderlistTxt pl-2 text-right\">小計</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(item,index) in productsInCart.carts\" :key=\"index\">\n                  <td class=\"orderlistTxt\">{{item.product.title}} * {{item.qty}}</td>\n                  <td class=\"text-right ntDollar\">NT${{item.total}}</td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td class=\"orderlistTxt\" style=\"background-color:#e9ecef\">小計</td>\n                  <td class=\"text-right ntDollar\">NT${{productsInCart.total}}</td>\n                </tr>\n                <tr>\n                  <td class=\"orderlistTxt\" style=\"background-color:#e9ecef\">運送方式</td>\n                  <td class=\"orderlistTxt text-right\">宅配</td>\n                </tr>\n                <tr>\n                  <td class=\"orderlistTxt\" style=\"background-color:#e9ecef\">\n\t\t\t\t\t\t\t\t\t\t總計\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-success\" v-if=\"productsInCart.total != productsInCart.final_total\">已套用優惠券</span>\n\t\t\t\t\t\t\t\t\t</td>\n                  <td class=\"text-right ntDollar\">NT${{productsInCart.final_total}}</td>\n                </tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<input v-model=\"couponCode\" type=\"text\" name=\"code\" id=\"coupon\" placeholder=\"折價券\">\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-outline-primary w-100 gopaid\" style=\"font-size:5px\"\n\t\t\t\t\t\t\t\t\t\t@click=\"useCoupon\">\n\t\t\t\t\t\t\t\t\t\t\t使用折價券\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</td>\n          \t\t\t</tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n      </div>\n    </ValidationObserver>\n  </div>\n</template>\n\n\n<script>\nexport default {\n  data() {\n    return {\n      productsInCart: {},\n\t\t\tisLoading: false,\n\t\t\tcouponCode: '',\n      form: {\n\t\t\t\tuser: {\n          \"name\": \"\",\n          \"email\": \"\",\n          \"tel\": \"\",\n          \"address\": \"\"\n        },\n        message: \"\",\n      }\n    };\n  },\n  created() {\n    console.log(\"CustomerForm created\");\n    this.getProductCart();\n  },\n  methods: {\n    getProductCart() {\n      console.log(\"begin to getProductCart\");\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_USER}/cart`;\n      console.log(api);\n      var vm = this;\n      vm.isLoading = true;\n      this.$http.get(api).then(response => {\n        console.log(\"response data:\");\n        console.log(response);\n        if (response.data.success) {\n          console.log(response.data);\n          vm.productsInCart = Object.assign({}, response.data.data);\n        } else {\n          console.log(\"get product cart failed\");\n          console.log(response.data.message);\n        }\n        vm.isLoading = false;\n      });\n\t\t},\n\t\tcreateOrder() {\n\t\t\tconsole.log(\"Begin to create Order\");\n\t\t\tconst api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_USER}/order`;\n      console.log(api);\n\t\t\tvar vm = this;\n\t\t\tthis.$http.post(api,{data:this.form}).then(response => {\n        console.log(\"response data:\");\n        console.log(response);\n        if (response.data.success) {\n\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\tvm.$bus.$emit('message:refreshCart');\n          vm.$router.push('/customer_order/paidList')\n\t\t\t\t} else {\n          console.log(\"fail to created order\");\n          console.log(response.data.message);\n        }\n\t\t\t\tvm.isLoading = false;\n\t\t\t});\n\t\t},\n    onSubmit() {\n\t\t\tconsole.log(\"the form is submitted\");\n\t\t\tconsole.log(this.form);\n\t\t\tthis.createOrder();\n\t\t},\n\t\tuseCoupon() {\n      console.log(\"Use coupon\");\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_USER}/coupon`;\n      console.log(api);\n      var vm = this;\n      vm.isLoading = true;\n      console.log(\"coupon code \" + this.couponCode)\n      this.$http.post(api,{data:{'code':this.couponCode}}).then(response => {\n        console.log(\"response data:\");\n        console.log(response);\n        if (response.data.success) {\n          console.log(\"success to use coupon\")\n          console.log(response.data.data.final_total);\n          this.getProductCart();\n        } else {\n          vm.$bus.$emit('message:push',response.data.message)\n        }\n        vm.isLoading = false;\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.h3text {\n  color: #545454;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 14px;\n  margin: 0px 0px 2px;\n  padding: 0px 0px 2px;\n  font-weight: 600;\n}\nhr.style-six {\n  width: 100%;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n}\n.formTxt {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.btn.btn-outline-primary.submit {\n  color: white;\n  background-color: #b0aa95;\n  border-color: #b0aa95;\n  border-radius: 0%;\n}\n\n.ntDollar {\n  color: #b0aa95;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 15px;\n}\n\n.orderlistTxt {\n  font-size: 15px;\n  font-family: Arial, Helvetica, sans-serif;\n}\n.btn.btn-outline-primary.gopaid {\n  color: white;\n  background-color: #b0aa95;\n  border-color:#b0aa95;\n  border-radius: 0%;\n}\n.btn.btn-outline-primary.gopaid:hover {\n  background-color: #666;\n  border-color:#666;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerForm.vue?vue&type=template&id=14d2d123&scoped=true&\"\nimport script from \"./CustomerForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerForm.vue?vue&type=style&index=0&id=14d2d123&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14d2d123\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerForm.vue?vue&type=style&index=0&id=14d2d123&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerForm.vue?vue&type=style&index=0&id=14d2d123&scoped=true&lang=css&\""],"sourceRoot":""}