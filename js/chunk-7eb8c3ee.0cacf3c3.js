(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7eb8c3ee"],{2637:function(t,o,s){"use strict";s.r(o);var a=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(o){t.isLoading=o}}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"},[s("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl}})]),s("div",{staticClass:"col-md-7 py-2"},[s("h2",{staticClass:"ProductTitle"},[t._v(t._s(t.product.title))]),s("hr",{staticClass:"style-six"}),s("p",{staticClass:"PriceText"},[t._v("NT$"+t._s(t.product.price))]),s("p",{staticClass:"content"},[t._v(t._s(t.product.content))]),s("p",{staticClass:"description"},[t._v(t._s(t.product.description))]),s("hr",{staticClass:"style-six"}),s("div",{staticClass:"freeTrans"},[t._v("全館滿千免運 !")]),s("form",[s("a",{staticClass:"btn btn-outline-primary plusMinus",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),t.minusCount(o)}}},[s("i",{staticClass:"fas fa-minus fa-xs"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.buyCount,expression:"buyCount"}],staticClass:"text-center btn btn-outline-primary plusMinus",staticStyle:{width:"45px"},attrs:{type:"number",min:"1"},domProps:{value:t.buyCount},on:{input:function(o){o.target.composing||(t.buyCount=o.target.value)}}}),s("a",{staticClass:"btn btn-outline-primary plusMinus mr-2",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),t.addCount(o)}}},[s("i",{staticClass:"fas fa-plus fa-xs"})]),s("input",{staticClass:"btn btn-outline btnText",staticStyle:{"border-color":"rgba(36,33,74,0.88)","border-radius":"0"},attrs:{type:"submit",value:"加入購物車"},on:{click:function(o){return o.preventDefault(),t.addProductToCart(o)}}})]),s("hr",{staticClass:"style-six"}),s("div",[s("span",{staticClass:"tag"},[t._v("分類: ")]),s("a",{staticClass:"tagLink",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),t.goToLastPage(o)}}},[t._v(t._s(t.product.category))])])])])],1)},e=[],n=(s("99af"),s("a9e3"),s("ac1f"),s("5319"),{props:{id:{type:String,default:""}},data:function(){return{product:{},buyCount:0,isLoading:!1}},methods:{getOneProduct:function(){var t=this,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("superco1113","/product/").concat(this.id);console.log(o);var s=this;s.isLoading=!0,this.$http.get(o).then((function(o){console.log("response data:"),console.log(o),o.data.success?(s.product=o.data.product,console.log(s.product),t.$parent.$emit("OneProductName",t.product.title),t.$parent.$emit("CategoryName",t.product.category.replace(/[^\x00-\x7F]/g,"").toLowerCase())):(console.log("Get OneProduct fail"),console.log(o.data.message)),s.isLoading=!1}))},goToLastPage:function(){console.log("emit cleanOneProduct"),this.$parent.$emit("cleanOneProduct"),console.log("route to last page"),this.$router.push({path:"/customer_order/category/".concat(this.product.category.replace(/[^\x00-\x7F]/g,"").toLowerCase())})},minusCount:function(){this.buyCount>0&&this.buyCount--},addCount:function(){this.buyCount++},addProductToCart:function(){if(this.buyCount>0){console.log("begin to addToCart");var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("superco1113","/cart");console.log(t);var o=this,s={product_id:o.product.id,qty:Number(o.buyCount)};o.isLoading=!0,this.$http.post(t,{data:s}).then((function(t){console.log("response data:"),console.log(t),t.data.success?(console.log(t.data),o.$bus.$emit("message:refreshCart")):(console.log("Add product to cart failed"),console.log(t.data.message)),o.isLoading=!1}))}}},watch:{id:{immediate:!0,handler:function(t,o){console.log("get the new ID"),console.log(t),this.getOneProduct()}}}}),c=n,i=(s("671f"),s("2877")),r=Object(i["a"])(c,a,e,!1,null,"6fd9c1a2",null);o["default"]=r.exports},"671f":function(t,o,s){"use strict";var a=s("defc"),e=s.n(a);e.a},defc:function(t,o,s){}}]);
//# sourceMappingURL=chunk-7eb8c3ee.0cacf3c3.js.map