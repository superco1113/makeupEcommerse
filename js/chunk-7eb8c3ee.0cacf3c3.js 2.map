{"version":3,"sources":["webpack:///./src/views/OneProduct.vue?f820","webpack:///src/views/OneProduct.vue","webpack:///./src/views/OneProduct.vue?bada","webpack:///./src/views/OneProduct.vue","webpack:///./src/views/OneProduct.vue?168a"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","product","imageUrl","_v","_s","title","price","content","description","preventDefault","minusCount","directives","name","rawName","value","expression","staticStyle","domProps","target","composing","buyCount","addCount","addProductToCart","goToLastPage","category","staticRenderFns","component"],"mappings":"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","file":"js/chunk-7eb8c3ee.0cacf3c3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-5\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":_vm.product.imageUrl}})]),_c('div',{staticClass:\"col-md-7 py-2\"},[_c('h2',{staticClass:\"ProductTitle\"},[_vm._v(_vm._s(_vm.product.title))]),_c('hr',{staticClass:\"style-six\"}),_c('p',{staticClass:\"PriceText\"},[_vm._v(\"NT$\"+_vm._s(_vm.product.price))]),_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.product.content))]),_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.product.description))]),_c('hr',{staticClass:\"style-six\"}),_c('div',{staticClass:\"freeTrans\"},[_vm._v(\"全館滿千免運 !\")]),_c('form',[_c('a',{staticClass:\"btn btn-outline-primary plusMinus\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.minusCount($event)}}},[_c('i',{staticClass:\"fas fa-minus fa-xs\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyCount),expression:\"buyCount\"}],staticClass:\"text-center btn btn-outline-primary plusMinus\",staticStyle:{\"width\":\"45px\"},attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.buyCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.buyCount=$event.target.value}}}),_c('a',{staticClass:\"btn btn-outline-primary plusMinus mr-2\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addCount($event)}}},[_c('i',{staticClass:\"fas fa-plus fa-xs\"})]),_c('input',{staticClass:\"btn btn-outline btnText\",staticStyle:{\"border-color\":\"rgba(36,33,74,0.88)\",\"border-radius\":\"0\"},attrs:{\"type\":\"submit\",\"value\":\"加入購物車\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addProductToCart($event)}}})]),_c('hr',{staticClass:\"style-six\"}),_c('div',[_c('span',{staticClass:\"tag\"},[_vm._v(\"分類: \")]),_c('a',{staticClass:\"tagLink\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goToLastPage($event)}}},[_vm._v(_vm._s(_vm.product.category))])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n        <div class=\"row\">\n            <div class=\"col-md-5\">\n                <img :src=\"product.imageUrl\" class=\"img-fluid\">\n            </div>\n            <div class=\"col-md-7 py-2\">\n                <h2 class=\"ProductTitle\">{{product.title}}</h2>\n                <hr class=\"style-six\">\n                <p class=\"PriceText\">NT${{product.price}}</p>\n                <p class=\"content\">{{product.content}}</p>\n                <p class=\"description\">{{product.description}}</p>\n                <hr class=\"style-six\">\n                <div class=\"freeTrans\">全館滿千免運 !</div>\n                <form>\n                    <a class=\"btn btn-outline-primary plusMinus\" href=\"#\" @click.prevent=\"minusCount\"><i class=\"fas fa-minus fa-xs\"></i></a>\n                    <!-- <span class=\"btn btn-outline-primary plusMinus\">{{buyCount}}</span> -->\n                    <input class=\"text-center btn btn-outline-primary plusMinus\" type=\"number\" min=\"1\" v-model=\"buyCount\" style=\"width:45px\">\n                \n                    <a class=\"btn btn-outline-primary plusMinus mr-2\" href=\"#\" @click.prevent=\"addCount\"><i class=\"fas fa-plus fa-xs\"></i></a>\n                    <!-- <a\n                        href=\"#\"\n                        class=\"btn btn-outline btnText\"\n                        style=\"border-color: rgba(36,33,74,0.88);border-radius:0;\"\n                        @click.prevent=\"addProductToCart\"\n                    >加入購物車</a> -->\n                    <input type=\"submit\" value=\"加入購物車\"\n                    class=\"btn btn-outline btnText\" \n                    style=\"border-color: rgba(36,33,74,0.88);border-radius:0;\"\n                    @click.prevent=\"addProductToCart\"> \n                </form>              \n                <hr class=\"style-six\">\n                <div>\n                    <span class=\"tag\">分類: </span>\n                    <a class=\"tagLink\" href=\"#\" @click.prevent=\"goToLastPage\">{{product.category}}</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    props: {\n        id: {\n            type: String,\n            default: '',\n        },\n    },\n    data() {\n        return {\n            product: {},\n            buyCount: 0,\n            isLoading: false,\n        }\n    },\n    methods: {\n        getOneProduct() {\n            const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_USER}/product/${this.id}`;\n            console.log(api);\n            var vm = this;\n            vm.isLoading = true;\n            this.$http.get(api).then(response => {\n                console.log(\"response data:\");\n                console.log(response);\n                if (response.data.success) {\n                    vm.product = response.data.product;\n                    console.log(vm.product);\n                    this.$parent.$emit('OneProductName',this.product.title);\n                    this.$parent.$emit('CategoryName',this.product.category.replace(/[^\\x00-\\x7F]/g, \"\").toLowerCase())\n                } else {\n                    console.log(\"Get OneProduct fail\");\n                    console.log(response.data.message);\n                }\n                vm.isLoading = false;\n            });\n        },\n        goToLastPage(){\n            console.log(\"emit cleanOneProduct\")\n            this.$parent.$emit('cleanOneProduct')\n            console.log('route to last page')\n            this.$router.push({path:`/customer_order/category/${this.product.category.replace(/[^\\x00-\\x7F]/g, \"\").toLowerCase()}`})\n        },\n        minusCount(){\n            if (this.buyCount > 0) {\n                this.buyCount --;\n            }\n        },\n        addCount(){\n            this.buyCount ++;\n        },\n        addProductToCart(){\n            if (this.buyCount > 0) {\n                console.log(\"begin to addToCart\")\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_USER}/cart`;\n                console.log(api);\n                var vm = this;\n                var tmpObj = {'product_id': vm.product.id, 'qty': Number(vm.buyCount)};\n                vm.isLoading = true;\n                this.$http.post(api,{ data: tmpObj }).then(response => {\n                    console.log(\"response data:\");\n                    console.log(response);\n                    if (response.data.success) {\n                        console.log(response.data);\n                        vm.$bus.$emit('message:refreshCart');\n                    } else {\n                        console.log(\"Add product to cart failed\");\n                        console.log(response.data.message);\n                    }\n                    vm.isLoading = false;\n                });\n            }\n        },\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler(newValue, oldValue){\n                console.log(\"get the new ID\")\n                console.log(newValue)\n                this.getOneProduct();\n            }\n        }\n    },\n}\n</script>\n\n<style scoped>\nhr.style-six {\n  width: 100%;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n}\nh2.ProductTitle {\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 32px;\n    color: #545454;\n    margin: 0px 0px 10px;\n    padding: 0px 0px 20px;\n}\np.PriceText{\n color:#b0aa95;\n font-family: Arial, Helvetica, sans-serif;\n font-size: 36px;\n margin: 0px 0px 20px;\n}\n\np.content {\n    color:rgba(0, 0, 0, 1);\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 16px;\n    margin: 0px 0px 20px;\n}\n\np.description {\n    color:rgba(0, 0, 0, 1);\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 16px;\n}\ndiv.freeTrans {\n    color: #a33c40;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 16px;\n    margin: 0px 0px 5px;\n}\n\n.btnText {\n  font-family: Muli, Arial, Helvetica, sans-serif;\n  font-weight: 400;\n  letter-spacing: 2px;\n  line-height: 25px;\n  font-size: 12px;\n  text-transform: uppercase;\n  color: rgba(36, 33, 74, 0.88);\n}\na.btn:hover,input.btn:hover {\n  color: white;\n  background-color: rgba(36, 33, 74, 0.88);\n}\n\na.btn.btn-outline-primary.plusMinus, span.btn.btn-outline-primary.plusMinus, input.btn.btn-outline-primary.plusMinus{\n    border-radius: 0%;\n    border-color: rgba(0, 0, 0, 0.1);\n    color: rgba(0,0,0,0.3);\n}\n\na.btn.btn-outline-primary.plusMinus:focus{\n    box-shadow: none !important;\n}\n\nspan.btn.btn-outline-primary.plusMinus{\n    cursor: auto;\n}\n\ninput.btn.btn-outline-primary.plusMinus{\n    cursor: auto;\n}\n\na.btn.btn-outline-primary.plusMinus:hover, span.btn.btn-outline-primary.plusMinus:hover,input.btn.btn-outline-primary.plusMinus:hover{\n    border-color: rgba(0, 0, 0, 0.1);\n    color: rgba(0,0,0,0.3);\n    background-color: rgba(255,255,255,0.3);\n}\n\nspan.tag {\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 13px;\n    font-weight: 600;\n    color: #333333;\n}\na.tagLink {\n    color: #ababab;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 13px;\n}\na.tagLink:hover {\n    text-decoration: none;\n    color:rgba(36, 33, 74, 0.88);\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\ninput[type=number]:focus {\n    box-shadow: none !important;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OneProduct.vue?vue&type=template&id=6fd9c1a2&scoped=true&\"\nimport script from \"./OneProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./OneProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OneProduct.vue?vue&type=style&index=0&id=6fd9c1a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fd9c1a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneProduct.vue?vue&type=style&index=0&id=6fd9c1a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneProduct.vue?vue&type=style&index=0&id=6fd9c1a2&scoped=true&lang=css&\""],"sourceRoot":""}